<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <style>
        @page {
            size: A4 landscape;
            margin: 12mm;
        }
        body { font-family: Poppins, sans-serif; font-size: 11px; color: #222; }
        h2 { 
            margin: 0 0 8px 0; 
            text-align: center;
        }
        .meta { 
            margin: 0 0 12px 0; 
            color: #555; 
            text-align: center;
        }
        table { width: 100%; border-collapse: collapse; }
        th, td { border-bottom: 0.3px solid #777; padding: 6px 8px; }
        th { background: #f2f6fb; font-weight: bold; }
        .right { text-align: right; }
        .totals-row td { background: #fafafa; font-weight: bold; }
    </style>
    <title>Statutory Report</title>
    </head>
<body>
    <h2>
        {% if type == 'ssf' %}SSF{% else %}Provident Fund{% endif %} - {{ selected_date }}
    </h2>
    <p class="meta">Generated on: {{ date }}</p>

    <table>
        <thead>
            <tr>
                <th style="width: 3%;">#</th>
                <th style="width: 15%;">Employee ID</th>
                <th style="width: 40%;">Employee Name</th>
                <th>{% if type == 'ssf' %}SSF Employee{% else %}PF Employee{% endif %}</th>
                <th>{% if type == 'ssf' %}SSF Employer{% else %}PF Employer{% endif %}</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in rows %}
            <tr>
                <td style="width: 3%;">{{ forloop.counter }}</td>
                <td style="width: 15%;">{{ entry.staff.staffno }}</td>
                <td style="width: 40%;">{{ entry.staff.lname }} {{ entry.staff.fname }} {{ entry.staff.niddlenames }}</td>
                <td class="right">{{ entry.employee }}</td>
                <td class="right">{{ entry.employer }}</td>
                <td class="right">{{ entry.total }}</td>
            </tr>
            {% endfor %}
            <tr class="totals-row">
                <td colspan="3" class="right">Total</td>
                <td class="right">{{ totals.employee|floatformat:2 }}</td>
                <td class="right">{{ totals.employer|floatformat:2 }}</td>
                <td class="right">{{ totals.overall|floatformat:2 }}</td>
            </tr>
        </tbody>
    </table>
</body>
</html>


