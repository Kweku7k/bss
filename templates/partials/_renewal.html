<div class="card">
    <div class="card-body">
        <h5 class="pt-3 mb-3 text-black text-center"><strong>Pending Renewals</strong></h5>
        <div>
            {% if pending_renewals %}
                <ul style="list-style: none; padding: 0;">
                    {% for renewal in pending_renewals %}
                        <li style="display: flex; align-items: center; margin-bottom: 10px;">
                            <!-- Status indicator (Pending approval) -->
                            <div style="background-color: #992621; width: 8px; height: 8px; border-radius: 50%; margin-right: 8px;"></div>
                            
                            <!-- Staff name link -->
                            <a href="{% url 'staff-details' renewal.staffno.staffno %}" style="text-decoration: none; color: inherit; flex-grow: 1;">
                                {{ renewal.staffno.title }} {{ renewal.staffno.fname }} {{ renewal.staffno.lname }} {{ renewal.staffno.middlenames }}
                            </a>

                            <!-- Approve button -->
                            <form method="post" action="{% url 'approve-renewal' renewal.id %}" style="margin-left: 8px;">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-success btn-sm" onclick="return confirm('Do you really want to approve the renewal for {{ renewal.staffno.fname }} {{ renewal.staffno.lname }}?');">Approve</button>
                            </form>
                        </li>
                    {% endfor %} 
                </ul>
            {% else %}
                <p class="text-muted text-center">No pending renewals.</p>
            {% endif %}
        </div>
    </div>
</div>
